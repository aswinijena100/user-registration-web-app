<section class="subheader p-none pl-none">
  <div class="max__w__850 m-none">
    <div class="row">
      <div class="col-xs-12 col-md-12 pl-none">
        <a href="#" class="subheader__title">
          <img class="mr-sm" src="../../../../assets/images/left-arrow.gif" alt="Add new User">
          <span>Add New User</span>
        </a>
      </div>
    </div>
  </div>
</section>

<section class="max__w__850 add__location">
  <form #addUserForm="ngForm" autocomplete="off">
    <section class="bg__white card__inside__pad box__shadow-cmn m-none">
      <div class="row border-bottom__c4d1e6">
        <div class="col-xs-12 col-md-6 p-none border-right__c4d1e6">
          <div class="form-group ">
            <label for="fname">First Name</label>
            <input type="text" class="form-control" id="fname" minlength="3" maxlength="50" [(ngModel)]="user.firstName"
              name="firstName" #firstName="ngModel" required pattern="^[A-Za-z]{3,50}$">
          </div>
          <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
            <span class="help-block with-errors error__msg" *ngIf="firstName.errors.required">
              First Name is required.
            </span>
            <span class="help-block with-errors error__msg" *ngIf="firstName.errors.pattern">
              Please enter 3 alphabets with no space.
            </span>
          </div>
        </div>
        <div class="col-xs-12 col-md-6 p-none">
          <div class="form-group ">
            <label for="app">Last Name</label>
            <input type="text" minlength="2" maxlength="50" [(ngModel)]="user.lastName" name="lastName" #lastName="ngModel"
              required pattern="^[A-Za-z]{2,50}$" class="form-control" id="lname" placeholder="Enter Last Name">
          </div>
          <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
            <span class="help-block with-errors error__msg" *ngIf="lastName.errors.required">
              Last Name is required.
            </span>
            <span class="help-block with-errors error__msg" *ngIf="lastName.errors.pattern">
              Please enter 2 alphabets with no space.
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-12 p-none">
          <div class="form-group">
            <label for="emailId">Email ID</label>
            <input type="email" class="form-control" id="emailId" placeholder="Enater Email" [(ngModel)]="user.email"
              name="emailText"
              pattern='(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)'
              #emailText="ngModel" required>
          </div>
          <div *ngIf="emailText.invalid && (emailText.dirty || emailText.touched)">
            <span class="help-block with-errors error__msg" *ngIf="emailText.errors.required">
              Email is required.
            </span>
            <span class="help-block with-errors error__msg" *ngIf="emailText.errors.pattern">
              Email is invalid.
            </span>
          </div>
        </div>
      </div>
    </section>

    <h2 class="subheader__title mb-sm">Permissions</h2>

    <section class="bg__white card__inside__pad box__shadow-cmn m-none">
      <div class="row">
        <div class="col-xs-12 col-md-6 p-none border-right__c4d1e6">
          <div class="form-group">
            <div class="custom__labels">
              <input type="checkbox" id="Users" [(ngModel)]="user.manageUsersCheckBox" name="manageUsersCheckBox"
                #manageUsersCheckBox="ngModel">
              <label for="Users">Users</label>
            </div>
            <div class="pl-xl pt-xs">
              <span>
                <input type="radio" id="test1" name="radio-group1" [(ngModel)]="user.manageUsersPermission"
                  name="manageUsersPermission" #manageUsersPermission="ngModel">
                <label for="test1">View</label>
              </span>
              <span>
                <input type="radio" id="test2" name="radio-group1" [(ngModel)]="user.manageUsersPermission"
                  name="manageUsersPermission" #manageUsersPermission="ngModel">
                <label for="test2">View And Edit</label>
              </span>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-md-6 p-none">
          <div class="form-group ">
            <div class="custom__labels">
              <input type="checkbox" id="pe" [(ngModel)]="user.manageLocationsCheckBox" name="manageLocationsCheckBox"
                #manageLocationsCheckBox="ngModel">
              <label for="pe">Locations</label>
            </div>
            <div class="pl-xl pt-xs">
              <span>
                <input type="radio" id="test3" name="radio-group2" [(ngModel)]="user.manageLocationsPermission"
                  name="manageLocationsPermission" #manageLocationsPermission="ngModel">
                <label for="test3">View</label>
              </span>
              <span>
                <input type="radio" id="test4" name="radio-group2" [(ngModel)]="user.manageLocationsPermission"
                  name="manageLocationsPermission" #manageLocationsPermission="ngModel">
                <label for="test4">View And Edit</label>
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="bg__white card__inside__pad box__shadow-cmn m-none">
      <div class="form-group">
        <div class="text__353a3e__16 pb-lg" > Sites, Studies and Apps</div>
        <div class="select__form-control__parent">
          <label class="wrap">Select and Add App
            <ng-select [items]="apps" [clearable]="false"	 [multiple]="true" bindLabel="name"  (add)="itemChanged()"  class="form-control select__form-control" placeholder="Enter App ID or Name" [hideSelected]="true" [(ngModel)]="selectedApps"  [ngModelOptions]="{standalone: true}">
            </ng-select>
          </label>
        </div>
      </div>

      <div class="form-group pt-none">
        <div class="accordion" id="accordionExample">
          <div class="card">
            <div class="flex__justify__space-between">
              <div class="acc__dele">
                <div class="card-header" id="headingOne">
                  <div class="mb-0 flex__justify__space-between">
                    <div class="">
                      <div class="custom__labels">
                        <input type="checkbox" id="Users1">
                        <label for="Users1">Health Studies App <span
                            class="text__353a3e__11 ml-xs">(APP001)</span></label>
                      </div>
                    </div>
                    <div class=" fa__plus__minus" (click)="collapseEvent()" type="button" data-toggle="collapse"
                      data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"></div>
                  </div>
                </div>
                <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                  <div class="card-body">
                    <div class="card-body__pad">
                      <div class="custom__labels">
                        <input type="checkbox" id="Users1">
                        <label for="Users1">Health Studies App <span
                            class="text__353a3e__11 ml-xs">(APP001)</span></label>
                      </div>
                      <div class="card-body__pad">
                        <span>
                          <input type="radio" id="test1" name="radio-group1">
                          <label for="test1">View</label>
                        </span>
                        <span>
                          <input type="radio" id="test2" name="radio-group1" checked>
                          <label for="test2">View And Edit</label>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div><img src="../../../../assets/images/delete-icon.gif"  (click)="deleteAppFromList(1)" alt="delete"></div>
            </div>
          </div>

          <div class="card">
            <div class="flex__justify__space-between">
              <div class="acc__dele">
                <div class="card-header" id="headingTwo">
                  <div class="mb-0 flex__justify__space-between">
                    <div class="">
                      <div class="custom__labels">
                        <input type="checkbox" id="Users2">
                        <label for="Users2">Better Tomoorow App <span
                            class="text__353a3e__11 ml-xs">(APP001)</span></label>
                      </div>
                      <div class="pl-xl pt-xs">
                        <span>
                          <input type="radio" id="test1" name="radio-group1">
                          <label for="test1">View</label>
                        </span>
                        <span>
                          <input type="radio" id="test2" name="radio-group1" checked>
                          <label for="test2">View And Edit</label>
                        </span>
                      </div>
                    </div>
                    <div class=" fa__plus__minus" type="button" data-toggle="collapse" data-target="#collapseTwo"
                      aria-expanded="true" aria-controls="collapseTwo"></div>
                  </div>
                </div>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                  <div class="card-body">
                    <div class="accordion sub__accordian card-body__pad" id="accordionExample1">

                      <div class="text__ffbc00__12 pb-sm">Total 2 Studies</div>

                      <div class="card">
                        <div class="card-header" id="headingTwo1">
                          <div class="mb-0 flex__justify__space-between">
                            <div class="">
                              <div class="custom__labels">
                                <input type="checkbox" id="Users1">
                                <label for="Users1">A Study for Fitness </label>
                              </div>
                              <div class="custom__labels__radio">
                                <span>
                                  <input type="radio" id="test1" name="radio-group1">
                                  <label for="test1">View</label>
                                </span>
                                <span>
                                  <input type="radio" id="test2" name="radio-group1" checked>
                                  <label for="test2">View And Edit</label>
                                </span>
                              </div>
                            </div>
                            <div class=" fa__plus__minus" type="button" data-toggle="collapse"
                              data-target="#collapseTwo1" aria-expanded="true" aria-controls="collapseTwo1"></div>
                          </div>
                        </div>
                        <div id="collapseTwo1" class="collapse" aria-labelledby="headingTwo1"
                          data-parent="#accordionExample1">
                          <div class="card-body">
                            <div class="text__ffbc00__12 pad__T10__B20">Total 2 Sites</div>
                            <div class="">
                              <div class="custom__labels">
                                <input type="checkbox" id="Users1">
                                <label for="Users1">A Study for Fitness </label>
                              </div>
                              <div class="custom__labels__radio">
                                <span>
                                  <input type="radio" id="test1" name="radio-group1">
                                  <label for="test1">View</label>
                                </span>
                                <span>
                                  <input type="radio" id="test2" name="radio-group1" checked>
                                  <label for="test2">View And Edit</label>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div><img src="../../../../assets/images/delete-icon.gif" alt="delete"></div>
            </div>
          </div>
        </div>
      </div>
    </section> 

    <section class="btn__container">
      <button type="submit" class="btn  bt__add bt__add__auto mr-sm">Create User and Invite</button>
      <button type="button" class="btn bt__cancel" (click)="modalRef.hide()">Cancel</button>
    </section>
  </form>
</section>