<section class="subheader p-none pl-none">
  <div class="max__w__850 m-none">
    <div class="flex__justify__space-between">
      <div>
        <a routerLink="/user/manageUsers" class="subheader__title">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          >
            <path
              fill="#1a73e8"
              d="M20 11H6.83l2.88-2.88c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L3.71 11.3c-.39.39-.39 1.02 0 1.41L8.3 17.3c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L6.83 13H20c.55 0 1-.45 1-1s-.45-1-1-1z"
            />
          </svg>
          <span>User Details</span>
        </a>
      </div>
      <div>
        <button
          class="btn font12__8495a5 p-none"
          routerLink="/user/updateUser/{{ adminId }}"
        >
          <img
            class="mr-xs"
            src="../../../../assets/images/edit-icon.gif"
            alt="Edit User Details"
          />
          <span class="text__deco__8495a5 font12__8495a5">
            Edit User Details</span
          >
        </button>
      </div>
    </div>
  </div>
</section>

<section class="max__w__850 add__location user__details">
  <section class="">
    <div
      class="bg__white card__inside__pad box__shadow-cmn m-none mb__padding__lg"
    >
      <div>
        <div class="mb__mb-sm">
          <div class="text__4285f4__12">Participant Email</div>
          <div class="text__353a3e__26">andreasbrixen@gmail.com</div>
        </div>
        <div>
          <div
            class="flex__justify__space-between flex__wrap user__details__label"
          >
            <div class="">
              <div class="text__4285f4__12">First Name</div>
              <div class="text__34a853__14">{{ user.firstName }}</div>
            </div>
            <div class="">
              <div class="text__4285f4__12">Last Name</div>
              <div class="text__34a853__14">{{ user.lastName }}</div>
            </div>
            <div class="">
              <div class="text__4285f4__12">Role</div>
              <div class="text__353a3e__14">
                <span *ngIf="user.superAdmin == 1">Super Admin</span>
                <span *ngIf="user.superAdmin != 1">Site Admin</span>
              </div>
            </div>
            <div class="">
              <div class="text__4285f4__12">Status</div>
              <div class="text__353a3e__14">{{ user.status }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <h2 class="subheader__title mb-sm">Permissions</h2>

  <section class="bg__white card__inside__pad box__shadow-cmn m-none">
    <div class="row">
      <div class="col-xs-12 col-md-6 p-none border-right__c4d1e6">
        <div class="form-group">
          <div class="custom__labels">
            <input type="checkbox" id="Users" disabled />
            <label for="Users">Users</label>
          </div>
          <div class="pl-lg text__757b80__12 pt-xs">
            View and edit
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-md-6 p-none">
        <div class="form-group">
          <div class="custom__labels">
            <input type="checkbox" id="pe" />
            <label for="pe">Participant Email</label>
          </div>
          <div class="pl-lg text__757b80__12 pt-xs">
            View Only
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="bg__white card__inside__pad box__shadow-cmn m-none">
    <div class="form-group">
      <div class="text__353a3e__16 pb-lg">Sites, Studies and Apps</div>
    </div>

    <!-- <div class="form-group pt-none">
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="flex__justify__space-between">
            <div class="acc__dele">
              <div class="card-header" id="headingOne">
                <div class="mb-0 flex__justify__space-between">
                  <div class="">
                    <div class="custom__labels">
                      <input type="checkbox" id="Users1" disabled />
                      <label for="Users1">Health Studies App (APP001)</label>
                    </div>
                  </div>
                  <div
                    class="fa__plus__minus collapsed"
                    type="button"
                    data-toggle="collapse"
                    data-target="#collapseOne"
                    aria-expanded="true"
                    aria-controls="collapseOne"
                  ></div>
                </div>
              </div>
              <div
                id="collapseOne"
                class="collapse show"
                aria-labelledby="headingOne"
                data-parent="#accordionExample"
              >
                <div class="card-body">
                  <div class="card-body__pad">
                    <div class="custom__labels">
                      <input type="checkbox" id="Users1" disabled />
                      <label for="Users1">Health Studies App (APP001)</label>
                    </div>
                    <div class="card-body__pad">
                      <span>
                        <input type="radio" id="test1" name="radio-group1" />
                        <label for="test1">View</label>
                      </span>
                      <span>
                        <input
                          type="radio"
                          id="test2"
                          name="radio-group1"
                          disabled
                        />
                        <label for="test2">View And Edit</label>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="20"
                viewBox="0 0 24 24"
                width="20"
              >
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                  fill="#a7b5cc"
                  d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"
                />
              </svg>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="flex__justify__space-between">
            <div class="acc__dele">
              <div class="card-header" id="headingTwo">
                <div class="mb-0 flex__justify__space-between">
                  <div class="">
                    <div class="custom__labels">
                      <input type="checkbox" id="Users2" disabled />
                      <label for="Users2">Better Tomoorow App (APP002)</label>
                    </div>
                    <div class="pl-xl pt-xs">
                      <span>
                        <input type="radio" id="test1" name="radio-group1" />
                        <label for="test1">View</label>
                      </span>
                      <span>
                        <input
                          type="radio"
                          id="test2"
                          name="radio-group1"
                          disabled
                        />
                        <label for="test2">View And Edit</label>
                      </span>
                    </div>
                  </div>
                  <div
                    class="fa__plus__minus"
                    type="button"
                    data-toggle="collapse"
                    data-target="#collapseTwo"
                    aria-expanded="true"
                    aria-controls="collapseTwo"
                  ></div>
                </div>
              </div>
              <div
                id="collapseTwo"
                class="collapse"
                aria-labelledby="headingTwo"
                data-parent="#accordionExample"
              >
                <div class="card-body">
                  <div
                    class="accordion sub__accordian card-body__pad"
                    id="accordionExample1"
                  >
                    <div class="text__ffbc00__12 pb-sm">Total 2 Studies</div>

                    <div class="card">
                      <div class="card-header" id="headingTwo1">
                        <div class="mb-0 flex__justify__space-between">
                          <div class="">
                            <div class="custom__labels">
                              <input type="checkbox" id="Users1" disabled />
                              <label for="Users1">A Study for Fitness </label>
                            </div>
                            <div class="custom__labels__radio">
                              <span>
                                <input
                                  type="radio"
                                  id="test1"
                                  name="radio-group1"
                                  disabled
                                />
                                <label for="test1">View</label>
                              </span>
                              <span>
                                <input
                                  type="radio"
                                  id="test2"
                                  name="radio-group1"
                                  disabled
                                />
                                <label for="test2">View And Edit</label>
                              </span>
                            </div>
                          </div>
                          <div
                            class="fa__plus__minus"
                            type="button"
                            data-toggle="collapse"
                            data-target="#collapseTwo1"
                            aria-expanded="true"
                            aria-controls="collapseTwo1"
                          ></div>
                        </div>
                      </div>
                      <div
                        id="collapseTwo1"
                        class="collapse"
                        aria-labelledby="headingTwo1"
                        data-parent="#accordionExample1"
                      >
                        <div class="card-body">
                          <div class="text__ffbc00__12 pad__T10__B20">
                            Total 2 Sites
                          </div>
                          <div class="">
                            <div class="custom__labels">
                              <input type="checkbox" id="Users1" disabled />
                              <label for="Users1">A Study for Fitness </label>
                            </div>
                            <div class="custom__labels__radio">
                              <span>
                                <input
                                  type="radio"
                                  id="test1"
                                  name="radio-group1"
                                  disabled
                                />
                                <label for="test1">View</label>
                              </span>
                              <span>
                                <input
                                  type="radio"
                                  id="test2"
                                  name="radio-group1"
                                  disabled
                                />
                                <label for="test2">View And Edit</label>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="20"
                viewBox="0 0 24 24"
                width="20"
              >
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                  fill="#a7b5cc"
                  d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div> -->
    <div class="form-group pt-none">
      <div class="accordion" id="accordionExample">
        <div *ngFor="let app of selectedApps" class="card">
          <div class="flex__justify__space-between">
            <div class="acc__dele">
              <div class="card-header">
                <div class="mb-0 flex__justify__space-between">
                  <div class="">
                    <div class="custom__labels">
                      <input
                        type="checkbox"
                        name="checkbox2"
                        id="appCheckBox{{ app.id }}"
                        [(ngModel)]="app.selected"
                        [ngModelOptions]="{ standalone: true }"
                        (change)="appCheckBoxChange($event, app)"
                        disabled
                      />
                      <label for="appCheckBox{{ app.id }}"
                        >{{ app.name
                        }}<span class="text__353a3e__11 ml-xs"
                          >({{ app.customId }})</span
                        ></label
                      >
                    </div>
                    <div class="pl-xl pt-xs">
                      <span>
                        <input
                          type="radio"
                          [value]="1"
                          [(ngModel)]="app.permission"
                          [disabled]="!app.selected"
                          [ngModelOptions]="{ standalone: true }"
                          id="appRadioView{{ app.id }}"
                          name="appRadioGroup{{ app.id }}"
                          (change)="appRadioButtonChange($event, app)"
                        />
                        <label for="appRadioView{{ app.id }}">View</label>
                      </span>
                      <span>
                        <input
                          type="radio"
                          [value]="2"
                          [(ngModel)]="app.permission"
                          [disabled]="!app.selected"
                          [ngModelOptions]="{ standalone: true }"
                          id="appRadioEdit{{ app.id }}"
                          name="appRadioGroup{{ app.id }}"
                          (change)="appRadioButtonChange($event, app)"
                        />
                        <label for="appRadioEdit{{ app.id }}"
                          >View And Edit</label
                        >
                      </span>
                    </div>
                  </div>
                  <div
                    class="fa__plus__minus"
                    type="button"
                    data-toggle="collapse"
                    [attr.data-target]="'#collapse' + app.id"
                    aria-expanded="false"
                  ></div>
                </div>
              </div>
              <div
                id="collapse{{ app.id }}"
                class="collapse"
                data-parent="#accordionExample"
              >
                <div class="card-body">
                  <div
                    class="accordion sub__accordian card-body__pad"
                    id="accordionExample{{ app.id }}"
                  >
                    <div class="text__ffbc00__12 pb-sm">
                      Total {{ app.studies.length }} Studies
                    </div>

                    <div class="card" *ngFor="let study of app.studies">
                      <div class="card-header">
                        <div class="mb-0 flex__justify__space-between">
                          <div class="">
                            <div class="custom__labels">
                              <input
                                (change)="studyCheckBoxChange($event, study)"
                                [disabled]="study.disabled"
                                type="checkbox"
                                name="checkbox2"
                                id="studyCheckBox{{ study.studyId }}"
                                [(ngModel)]="study.selected"
                                [ngModelOptions]="{ standalone: true }"
                              />
                              <label for="studyCheckBox{{ study.studyId }}"
                                >{{ study.studyName }}
                              </label>
                            </div>
                            <div class="custom__labels__radio">
                              <span>
                                <input
                                  [disabled]="study.disabled || !study.selected"
                                  type="radio"
                                  [value]="1"
                                  [(ngModel)]="study.permission"
                                  [ngModelOptions]="{ standalone: true }"
                                  id="studyRadioView{{ study.studyId }}"
                                  name="studyRadioGroup{{ study.studyId }}"
                                  (change)="
                                    studyRadioButtonChange($event, study)
                                  "
                                />
                                <label for="studyRadioView{{ study.studyId }}"
                                  >View</label
                                >
                              </span>
                              <span>
                                <input
                                  [disabled]="study.disabled || !study.selected"
                                  type="radio"
                                  [value]="2"
                                  [(ngModel)]="study.permission"
                                  [ngModelOptions]="{ standalone: true }"
                                  id="studyRadioEdit{{ study.studyId }}"
                                  name="studyRadioGroup{{ study.studyId }}"
                                  (change)="
                                    studyRadioButtonChange($event, study)
                                  "
                                />
                                <label for="studyRadioEdit{{ study.studyId }}"
                                  >View And Edit</label
                                >
                              </span>
                            </div>
                          </div>
                          <div
                            class="fa__plus__minus"
                            type="button"
                            data-toggle="collapse"
                            [attr.data-target]="'#collapseTwo' + study.studyId"
                            aria-expanded="false"
                          ></div>
                        </div>
                      </div>
                      <div
                        id="collapseTwo{{ study.studyId }}"
                        class="collapse"
                        [attr.data-parent]="'#accordionExample' + app.id"
                      >
                        <div class="card-body">
                          <div class="text__ffbc00__12 pad__T10__B20">
                            Total {{ study.sites.length }} Sites
                          </div>
                          <div class="" *ngFor="let site of study.sites">
                            <div class="custom__labels">
                              <input
                                (change)="siteCheckBoxChange($event, site)"
                                [disabled]="site.disabled"
                                type="checkbox"
                                name="checkbox2"
                                id="siteCheckBox{{ site.siteId }}"
                                [ngModelOptions]="{ standalone: true }"
                                [(ngModel)]="site.selected"
                              />
                              <label for="siteCheckBox{{ site.siteId }}"
                                >{{ site.locationName }}
                              </label>
                            </div>
                            <div class="custom__labels__radio">
                              <span>
                                <input
                                  [disabled]="site.disabled || !site.selected"
                                  type="radio"
                                  [value]="1"
                                  [(ngModel)]="site.permission"
                                  [ngModelOptions]="{ standalone: true }"
                                  id="siteRadioRead{{ site.siteId }}"
                                  name="siteRadioGroup{{ site.siteId }}"
                                />
                                <label for="siteRadioRead{{ site.siteId }}"
                                  >View</label
                                >
                              </span>
                              <span>
                                <input
                                  [disabled]="site.disabled || !site.selected"
                                  type="radio"
                                  [value]="2"
                                  [(ngModel)]="site.permission"
                                  [ngModelOptions]="{ standalone: true }"
                                  id="siteRadioEdit{{ site.siteId }}"
                                  name="siteRadioGroup{{ site.siteId }}"
                                />
                                <label for="siteRadioEdit{{ site.siteId }}"
                                  >View And Edit</label
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div (click)="deleteAppFromList(app.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="20"
                viewBox="0 0 24 24"
                width="20"
              >
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                  fill="#a7b5cc"
                  d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
