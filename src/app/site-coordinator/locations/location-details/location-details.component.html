<div class="subheader p-none pl-none">
  <div class="max__w__1280 m-none">
    <div class="flex__justify__space-between">
      <div>
        <a routerLink="/user/locations" class="subheader__title">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="#1a73e8" d="M20 11H6.83l2.88-2.88c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L3.71 11.3c-.39.39-.39 1.02 0 1.41L8.3 17.3c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L6.83 13H20c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>
          <span>Location Details</span>
        </a>
      </div>
      <div>
        <button class="btn font12__8495a5 p-none" #template (click)="openModal(template)">
          <img class="mr-xs" src="../../../../assets/images/edit-icon.gif" alt="Edit Location Details">
          <span class="text__deco__8495a5 font12__8495a5"> Edit Location Details</span>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="max__w__1280 add__location">
  <div class="bg__white card__inside__pad box__shadow-cmn m-none">
    <div class="border-bottom__c4d1e6 flex__justify__space-between">
      <div>
        <div class="form-group ">
          <label for="study">Location ID</label>
          <div class="font16__353a3e">{{locationBackup.customId}}</div>
        </div>
      </div>
      <div>
        <div class="form-group ">
          <label for="app">Location Name</label>
          <div class="font16__353a3e">{{locationBackup.name}}</div>
        </div>
      </div>
      <div>
        <div class="form-group ">
          <div class="active__34a853n">{{locationBackup.status=="1"?'Active':'Deactivated' | uppercase}}</div>
        </div>
      </div>
    </div>
    <div class="">
      <div class="">
        <div class="form-group">
          <label for="Location">Description</label>
          <div class="font16__353a3e">
            {{locationBackup.description}}
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="cards__list mb-xlg">
    <div class="subheader__title mb-lg mt-xlg">Associated Studies ( {{locationBackup.studiesCount}} )</div>
    <ul *ngIf="location.studiesCount>0" class="box___shadow__radius">
      <li *ngFor="let study of location.studies">{{study}}</li>
    </ul>
  </div>
</div>

<!-- modal -->
<ng-template #template>
  <div class="modal-body modal__body">
    <form #updateLocationForm="ngForm" autocomplete="off">
      <div class="row border__bottom__c4d1e6">
        <div class="col-xs-12 col-md-12 p-none ">
          <div class="form-group background__dfe4ec border-radius__77">
            <label for="study">Location ID</label>
            <input type="text" class="form-control" id="study" readonly
              [(ngModel)]="location.customId" maxlength=15  name="loationCustomId" #loationCustomId="ngModel">
          </div>
          <div *ngIf="loationCustomId.invalid && (loationCustomId.dirty || loationCustomId.touched)">
            <span class="help-block with-errors error__msg" *ngIf="loationCustomId.errors.required">
              Location ID is required.
            </span>
          </div>
        </div>
        <div class="col-xs-12 col-md-12 p-none">
          <div class="form-group ">
            <label for="app">Location Name</label>
            <input type="text" class="form-control" id="app" placeholder="Enter Location Name"
              [(ngModel)]="location.name" required name="loationName" maxlength=200 #loationName="ngModel">
          </div>
          <div *ngIf="loationName.invalid && (loationName.dirty || loationName.touched)">
            <span class="help-block with-errors error__msg" *ngIf="loationName.errors.required">
              Location Name is required.
            </span>
          </div>
        </div>
      </div>
      <div class="row border__bottom__c4d1e6">
        <div class="col-xs-12 col-md-12 p-none">
          <div class="form-group">
            <label for="Location">Discription</label>
            <input type="text" class="form-control" id="app" placeholder="Enter Description"
              [(ngModel)]="location.description" required name="locationDescription" maxlength=500
              #locationDescription="ngModel">
          </div>
          <div *ngIf="locationDescription.invalid && (locationDescription.dirty || locationDescription.touched)">
            <span class="help-block with-errors error__msg" *ngIf="locationDescription.errors.required">
              Location Description is required.
            </span>
          </div>
        </div>
      </div>

      <div class="p-xlg flex__justify__space-between">
        <div><button type="submit" class="btn bt__add mr-sm" [disabled]="!updateLocationForm.form.valid"  (click)="updateLocation('update');modalRef.hide()">Save</button>
          <button type="button" class="btn bt__cancel" (click)="modalRef.hide()">Cancel</button></div>
        <div>
          <button type="submit"   [ngClass]="(locationBackup.status=='1')?'bt__757575':'bt__1a73e8'" class="btn flex__row__reverse" (click)="updateLocation('changeStauts');modalRef.hide()">{{(locationBackup.status=='1')?'Decommission Location':' Reactivate Location'}}</button>
        </div>
      </div>
    </form>
  </div>
</ng-template>
<!-- modal -->